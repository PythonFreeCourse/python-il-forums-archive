<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>פעולות פנימיות מוגנות</title>
    <link>https://forums.pythonic.guru/t/topic/7216</link>
    <description>אשמח אם תוכלו להסביר לי קצת יותר,
בדוגמא של המחלקה Dish הוסיפו קו תחתון לפעולה can_add_ingredient_
![image|538x115](upload://rLN6WDWS5ceHLDAM9zusXHgSgyy.png) 
ההסבר היה שזוהי פעולה שמטרתה לשימוש פנימי בלבד.
את זה אני מצליח להבין כי הרי זוהי פעולה שהשימוש שלה נובע כתנאי בתוך פונקציה:
![image|508x227](upload://rk9pjvUBmaAmzAVNl8IbZOUms7V.png) 
מה שאני לא מצליח להבין, הוא איך אני יודע באיזה מצב פונקציה שכתבתי כחלק ממחלקה היא פונקציה פנימית מוגנת ושאצטרך להוסיף לה קו תחתון מתחת,
לדוגמא בתרגיל &#39;מהנשמע&#39;, הפעולה is_online בעלת שימוש דומה, וגם כאן מחזירה true או false:
![image|548x203](upload://dangkfbwQ9d0kM8W915nYCSHMQB.png) 
והשימוש שלה בתוך הפונקציה __str__:
![image|376x200](upload://kP7LTa818Lw6Ziefqqm06Dm67Ar.png) 
אם כך, אני מגיע לתרגיל כמו אורטל קומבט 2, ולפחות במקרה שלי אני יכול להעיד שיש לי המון פונקציות עזר שאני משתמש בהן בתוך המחלקה, לדוגמא: (בכוונה השתמשתי ב-2 פונקציות בעלות שימוש שונה)
![image|315x111](upload://z5uHKVtL93h9O0xIKFPSsoIb71n.png) 
כמו שאפשר לראות מהדוגמא, הפונקציה level_up שמעלה את השחקן רמה, והפונקציה check_if_losing שמחזירה True אם השחקן מת MAX_DEATHS שהוא 3 פעמים.

בדוגמא כמו שנתתי (ובאופן כללי), איך אני יכול לקבוע אילו פונקציה צריכות להיות מוגנות, ואילו פונקציות לא? אני מבין שמדובר על החלטת בונה הקוד שהרי הוא זה שמחליט אילו פעולות צריכות להיות מוגנות, אבל באותה מידה אני יכול בתור בונה הקוד להגיד שאני לא רוצה שיגעו בכלל בקוד ולהוסיף לכל הפעולות קו תחתון בגישה של &quot;בניתי את הקוד שכל חלק יעבוד עם שאר החלקים ואל תהרסו אותו&quot;.
כמובן שזו לא הגישה שלנו, ולכן אני שואל.

תודה.</description>
    <language>he</language>
    <lastBuildDate>Sun, 21 Jun 2020 08:36:22 +0000</lastBuildDate>
    <category>שבוע 7</category>
    <atom:link href="https://forums.pythonic.guru/t/topic/7216.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>פעולות פנימיות מוגנות</title>
        <dc:creator><![CDATA[orpazf]]></dc:creator>
        <description><![CDATA[
            <p>גם מתכנת אחר הוא משתמש בקוד שלך, אבל בניגוד אליך הוא לא מכיר את הקוד הזה כמו את כף ידו והוא רוצה לעבוד עם הקוד הזה ככה שיקיים את כל מה שהבטחת בתיאור המחלקה. אם תיתן לו גישה למתודות שיכולות לעקוף את מה שהבטחת - נגיד אם הוא יכול להעלות את הרמה של השחקן ככה שלא תתקיים המשוואה שנותנת את הקשר בין exp לרמה - הוא עלול לעשות את זה בטעות. אם הוא לא שם לב לכמה מצרכים יש ושהוא כבר לא יכול להכניס הוא עלול להאריך את הרשימה ישירות ולא לנסות לעשות את זה דרך המתודה שלך.<br>
באופן כללי רצוי שהקוד שלך ירמוז לאנשים באיזה מתודות ודברים הם אמורים להשתמש ובמה הם לא אמורים לגעת ישירות אלא דרך פעולה אחרת. לא מן הנמנע שאדם שביקש לראות את רשימת השחקנים וגילה שחסר בה השחקן האהוב עליו ינסה להוסיף אליה שחקן ישירות מבלי לדעת שהוא אמור לגשת לרשימה רק דרך מתודה מיוחדת ושזה אסור באמצע משחק קיים. אבל אם תכוון אותו לעשות את זה רק דרך הפונקציה הייעודית הוא יגלה שהוא עושה משהו לא בסדר.</p>
          <p><a href="https://forums.pythonic.guru/t/topic/7216/5">קריאת הנושא במלואו</a></p>
        ]]></description>
        <link>https://forums.pythonic.guru/t/topic/7216/5</link>
        <pubDate>Sun, 21 Jun 2020 08:36:22 +0000</pubDate>
        <guid isPermaLink="false">forums.pythonic.guru-post-7216-5</guid>
        <source url="https://forums.pythonic.guru/t/topic/7216.rss">פעולות פנימיות מוגנות</source>
      </item>
      <item>
        <title>פעולות פנימיות מוגנות</title>
        <dc:creator><![CDATA[DissonantHarmony]]></dc:creator>
        <description><![CDATA[
            <p>אני חייב לציין שאני קצת מבולבל.</p>
<p>עד עכשיו חשבתי שכשאני כותב מחלקה - היא אמורה לשמש מתכנת. (כמו שאנחנו משתמשים במודולים, ולא רואים את הקוד שלהם, אבל יש לנו גישה לייצר כל מני ישויות של מחלקות משם, ולהפעיל עליהם עליהם כל מני מתודות, שנכתבו עבורנו מבעוד מועד).</p>
<p>למשל: המתכנת עשוי לרצות לקרוא לפונקציה שמעלה שחקן רמה, ולשלב אותה בקוד שלו בבכל מני מצבים (כמו פרס על הישג מיוחד, או אכילת איזו סוכריה נדירה שגורמת לרמה של שחקנים לעלות), ואיו לי בעיה שהמתכנת יעשה בה שימוש כאוות נפשו.</p>
<p>זה שונה בעיניי, משחקן, שאני לא רוצה שיוכל לשלוט ברמה שלו כאוות נפשו, אבל כן מוכן לאפשר לו להציץ בכל מני מצבים במשחק, ולקחת החלטות…אבל השחקן לא אמור לראות קוד בכלל!</p>
<hr>
<p>-הרושם שקבלתי, הוא שאני רוצה להחביא פונקציות שלא ממש התכוונתי שמישהו יעשה בהן שימוש. (הן שם, בשבילי, כדי לייצר לעצמי קוד שנוח לעבוד אתו).</p>
<p>כלל האצבע שמנחה אותי: אם מתכנת כותב את שם הישות, ואז נקודה, ואז לוחץ על טאב - האם הוא רוצה לראות שם את המתודה? או שזה לא אמור לעניין אותו, אלא לפעול מאחורי הקלעים, ולכן סתם מוסיף לו באלגן?</p>
<hr>
<p>-אוקצור: חשבתי שהבנתי.<br>
אבל עכשיו אני שוב מלובלב.</p>
<p>למה לי לא לרצות לאפשר למשתמש את הכלי</p>
          <p><a href="https://forums.pythonic.guru/t/topic/7216/4">קריאת הנושא במלואו</a></p>
        ]]></description>
        <link>https://forums.pythonic.guru/t/topic/7216/4</link>
        <pubDate>Sun, 21 Jun 2020 08:08:57 +0000</pubDate>
        <guid isPermaLink="false">forums.pythonic.guru-post-7216-4</guid>
        <source url="https://forums.pythonic.guru/t/topic/7216.rss">פעולות פנימיות מוגנות</source>
      </item>
      <item>
        <title>פעולות פנימיות מוגנות</title>
        <dc:creator><![CDATA[DrorBiton]]></dc:creator>
        <description><![CDATA[
            <p>תודה רבה, סידרת לי את זה מעולה בראש</p>
          <p><a href="https://forums.pythonic.guru/t/topic/7216/3">קריאת הנושא במלואו</a></p>
        ]]></description>
        <link>https://forums.pythonic.guru/t/topic/7216/3</link>
        <pubDate>Sat, 20 Jun 2020 12:22:52 +0000</pubDate>
        <guid isPermaLink="false">forums.pythonic.guru-post-7216-3</guid>
        <source url="https://forums.pythonic.guru/t/topic/7216.rss">פעולות פנימיות מוגנות</source>
      </item>
      <item>
        <title>פעולות פנימיות מוגנות</title>
        <dc:creator><![CDATA[orpazf]]></dc:creator>
        <description><![CDATA[
            <p>השאלה שאמורה לסייע לך להחליט לדעתי היא “האם אני רוצה שהמשתמש יוכל להשתמש בתכונה הזו”.<br>
מי שרוצה להרכיב מנה כנראה לא רוצה לדעת האם הוא יכול או לא להוסיף מצרך נוסף - זה לא משהו שאמור לעניין אותו בבואו להרכיב מנה. זה כן משהו שמשמש לך כפונקציית עזר שאינה עניינו ואין לו שימוש בה. אם תרצה להנגיש לו את המידע לבטח תעדיף לעשות זאת בדרך אחרת, ע"י פונקציות אינדיקטיביות יותר, למשל אחת שמחזירה את מספר המצרכים מהם מורכבת המנה כרגע או את מספר המצרכים המקסימלי, או אולי בכלל פונקציה שמחזירה כמה מצרכים הוא עוד יכול להוסיף. אבל בדיקת הנכונות האם הוא יכול או לא להוסיף לא צריכה ליפול עליו, הוא לא צריך להפריד למקרים ולהתחיל להרהר האם הוא יכול או לא להוסיף עוד רכיב. אתה מטפל בזה - אז זה צריך לרדת ממנו.</p>
<p>לעומת זאת, אני חושבת שבהרבה אפליקציות ואתרים למיניהם אתה מאוד מעוניין לדעת האם מישהו מחובר כעת או לא. זו לא רק מתודת עזר שבה משתמשים בפונקציה אחרת, זו מתודה שבהחלט עומדת בפני עצמה ומספקת מידע מעניין. מספיק מעניין גם כדי שנציג את זה כחלק מהמידע שבחרנו להציג על המשתמש במחרוזת שמייצגת אותו.</p>
<p>אז בעצם אין לזה תשובה חד משמעית, אבל נסה לחשוב אתה - האם אתה רוצה שהמשתמש יוכל לגשת ולהעלות לשחקן את הרמה? אם כן - תשאיר את זה נגיש. אם לא - תרמוז למשתמש במחלקה שלך בעדינות שזה לא לעיניו - ובקש ממנו ברוב טובו לסלק מעסקיהם של אחרים את אפו הגדול שלא כדרך טבע.<br>
לעומת זאת, האם אתה רוצה לאפשר למשתמש לבדוק בעצמו האם שחקן מפסיד? בהחלט ייתכן שכן. אין כאן תשובה חד משמעית, אבל זה לא אמור לפגוע בקוד שלך להנגיש האם שחקן עף מהמשחק או לא, וייתכן שזה משהו שהמשתמש ישמח לדעת אם למשל המשחק קורה בשלבים והוא רוצה לדעת מי כבר עף על-מנת לשנות את ההימור שלו לשחקן אחר או סתם כדי לדעת. ייתכן שמישהו שירצה לכתוב משחק בהתבסס על המחלקה ירצה לדעת האם שחקן כלשהו כבר מת על-מנת להיות מסוגל להחיות אותו כזומבי ולשלוח אותו למשימה אחרת למשל, או כדי לשלוח אותו להתמודד בבית הניחומים. האפשרויות רבות. בעיניי זה משהו שלא פוגע אם למשתמש תהיה גישה - הוא לא מאפשר לשחק עם השחקן אלא רק לקבל מידע על מצבו - ולכן זו מתודה שלדעתי ראוי להשאיר חשופה.</p>
          <p><a href="https://forums.pythonic.guru/t/topic/7216/2">קריאת הנושא במלואו</a></p>
        ]]></description>
        <link>https://forums.pythonic.guru/t/topic/7216/2</link>
        <pubDate>Sat, 20 Jun 2020 10:59:05 +0000</pubDate>
        <guid isPermaLink="false">forums.pythonic.guru-post-7216-2</guid>
        <source url="https://forums.pythonic.guru/t/topic/7216.rss">פעולות פנימיות מוגנות</source>
      </item>
      <item>
        <title>פעולות פנימיות מוגנות</title>
        <dc:creator><![CDATA[DrorBiton]]></dc:creator>
        <description><![CDATA[
            <p>אשמח אם תוכלו להסביר לי קצת יותר,<br>
בדוגמא של המחלקה Dish הוסיפו קו תחתון לפעולה can_add_ingredient_<br>
<img src="https://forums.pythonic.guru/uploads/default/original/2X/c/c2a1b83b51888d7d2c1dd50eada618b412433d4e.png" alt="image" data-base62-sha1="rLN6WDWS5ceHLDAM9zusXHgSgyy" width="538" height="115"><br>
ההסבר היה שזוהי פעולה שמטרתה לשימוש פנימי בלבד.<br>
את זה אני מצליח להבין כי הרי זוהי פעולה שהשימוש שלה נובע כתנאי בתוך פונקציה:<br>
<img src="https://forums.pythonic.guru/uploads/default/original/2X/b/bf81dab01a5b2d7523f4266e63a2e9cb7bd7eeab.png" alt="image" data-base62-sha1="rk9pjvUBmaAmzAVNl8IbZOUms7V" width="508" height="227"><br>
מה שאני לא מצליח להבין, הוא איך אני יודע באיזה מצב פונקציה שכתבתי כחלק ממחלקה היא פונקציה פנימית מוגנת ושאצטרך להוסיף לה קו תחתון מתחת,<br>
לדוגמא בתרגיל ‘מהנשמע’, הפעולה is_online בעלת שימוש דומה, וגם כאן מחזירה true או false:<br>
<img src="https://forums.pythonic.guru/uploads/default/original/2X/5/5c4880a8bbda2de3265ad4eb55ad4c8e63376e45.png" alt="image" data-base62-sha1="dangkfbwQ9d0kM8W915nYCSHMQB" width="548" height="203"><br>
והשימוש שלה בתוך הפונקציה <strong>str</strong>:<br>
<img src="https://forums.pythonic.guru/uploads/default/original/2X/9/91f2f5bc7611d2abd4aa96d3202bd0943383afbf.png" alt="image" data-base62-sha1="kP7LTa818Lw6Ziefqqm06Dm67Ar" width="376" height="200"><br>
אם כך, אני מגיע לתרגיל כמו אורטל קומבט 2, ולפחות במקרה שלי אני יכול להעיד שיש לי המון פונקציות עזר שאני משתמש בהן בתוך המחלקה, לדוגמא: (בכוונה השתמשתי ב-2 פונקציות בעלות שימוש שונה)<br>
<img src="https://forums.pythonic.guru/uploads/default/original/2X/f/f5eb1cb70698cb80f992eee80091fbbec32cbed9.png" alt="image" data-base62-sha1="z5uHKVtL93h9O0xIKFPSsoIb71n" width="315" height="111"><br>
כמו שאפשר לראות מהדוגמא, הפונקציה level_up שמעלה את השחקן רמה, והפונקציה check_if_losing שמחזירה True אם השחקן מת MAX_DEATHS שהוא 3 פעמים.</p>
<p>בדוגמא כמו שנתתי (ובאופן כללי), איך אני יכול לקבוע אילו פונקציה צריכות להיות מוגנות, ואילו פונקציות לא? אני מבין שמדובר על החלטת בונה הקוד שהרי הוא זה שמחליט אילו פעולות צריכות להיות מוגנות, אבל באותה מידה אני יכול בתור בונה הקוד להגיד שאני לא רוצה שיגעו בכלל בקוד ולהוסיף לכל הפעולות קו תחתון בגישה של “בניתי את הקוד שכל חלק יעבוד עם שאר החלקים ואל תהרסו אותו”.<br>
כמובן שזו לא הגישה שלנו, ולכן אני שואל.</p>
<p>תודה.</p>
          <p><a href="https://forums.pythonic.guru/t/topic/7216/1">קריאת הנושא במלואו</a></p>
        ]]></description>
        <link>https://forums.pythonic.guru/t/topic/7216/1</link>
        <pubDate>Sat, 20 Jun 2020 10:46:14 +0000</pubDate>
        <guid isPermaLink="false">forums.pythonic.guru-post-7216-1</guid>
        <source url="https://forums.pythonic.guru/t/topic/7216.rss">פעולות פנימיות מוגנות</source>
      </item>
  </channel>
</rss>
